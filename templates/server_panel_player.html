
{% extends "base.html" %}
{% block title %}{{ server.name }} – Hráčský pohled{% endblock %}

{% block content %}
<div class="server-panel">
    <div class="server-header">
        <button id="back-btn" class="btn btn-secondary">
            <i class="fas fa-arrow-left"></i> Zpět na Dashboard
        </button>
        <h3><i class="fas fa-user"></i> Hráčský pohled: <span id="server-name">{{ server.name }}</span></h3>
    </div>

    <!-- Status serveru -->
    <div id="server-status-display" class="server-panel">
        <div class="server-meta">
            <span id="server-loader" class="meta-badge">Loader: -</span>
            <span id="mc-version" class="meta-badge">MC: -</span>
        </div>

        <p><span class="status-indicator"></span> Status: <span class="status-text">Načítání...</span></p>
        <p>RAM: <span id="ram-usage">-</span> MB</p>
        <p>CPU: <span id="cpu-usage">-</span> / <span id="cpu-max">-</span></p>
        <p>Online: <span id="player-count">-</span></p>
    </div>

    <!-- Online hráči -->
    <div id="online-players-panel" class="server-panel">
        <h4><i class="fas fa-users"></i> Připojení hráči (<span id="player-count-display">0</span>)</h4>
        <div id="players-table-container">
            <table id="online-players-table" class="table table-striped table-hover">
                <thead>
                    <tr>
                        <th>#</th>
                        <th>Jméno hráče</th>
                    </tr>
                </thead>
                <tbody id="online-players-list">
                    <!-- Players will be loaded here dynamically -->
                </tbody>
            </table>
            <div id="no-players-message" class="text-muted">
                Žádní hráči nejsou připojeni
            </div>
        </div>
    </div>

    <!-- Nástroje pro hráče -->
    <div class="client-tools-section server-panel">
        <h3><i class="fas fa-toolbox"></i> Nástroje pro připojení</h3>
        <div id="client-tools-container">
            <!-- Načte se dynamicky -->
        </div>
    </div>

    <!-- Oznámení od adminů -->
    <div class="player-info-section server-panel">
        <h3><i class="fas fa-info-circle"></i> Oznámení od adminů</h3>
        <div class="notices-list">
            <div id="notices-container">
                <!-- Oznámení se načtou dynamicky -->
            </div>
        </div>
    </div>

    <!-- Nahlášení problému -->
    <div class="report-section server-panel">
        <h3><i class="fas fa-flag"></i> Nahlásit problém</h3>
        <div class="report-form">
            <div class="form-group">
                <label for="report-message">Popište problém nebo pošlete zprávu adminům:</label>
                <textarea id="report-message" class="form-control" rows="4" 
                          placeholder="Popište problém, na který jste narazili, nebo napište zprávu administrátorům serveru..."></textarea>
            </div>
            <button id="send-report" class="btn btn-danger">
                <i class="fas fa-paper-plane"></i> Odeslat nahlášení
            </button>
            <div id="report-feedback" class="mt-2"></div>
        </div>
    </div>

    <!-- Rychlý náhled modů (pouze pro mod servery) -->
    <div class="mods-quickview server-panel" style="display: none;">
        <h3><i class="fas fa-puzzle-piece"></i> Nainstalované módy</h3>
        <div id="installed-mods-quickview" class="mods-list">
            <!-- Načte se dynamicky -->
        </div>
    </div>
</div>

<script>
    const SERVER_ID = {{ server.id }};
</script>
<script src="{{ url_for('static', filename='js/player_panel.js') }}"></script>
<link rel="stylesheet" href="{{ url_for('static', filename='css/server_panel.css') }}">
{% endblock %}
[file content end]